var e,n;e=void 0,n=function(){const e=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,n=Phaser.Utils.Objects.GetValue;class t extends e{constructor(e){super({name:"rexGlowFilterPostFx",game:e,renderTarget:!0,fragShader:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Effect parameters\nuniform float intensity;\n\nvoid main() {\n  vec4 front = texture2D(uMainSampler, outTexCoord);\n  vec4 sum = vec4(0);\n  for(int xx = -4; xx <= 4; xx++) {\n    for(int yy = -3; yy <= 3; yy++) {\n      float dist = sqrt(float(xx*xx) + float(yy*yy));\n      float factor = 0.0;\n      if (dist == 0.0) {\n        factor = 2.0;\n      } else {\n        factor = 2.0/abs(float(dist));\n      }\n      sum += texture2D(uMainSampler, outTexCoord + vec2(xx, yy) * 0.002) * factor;\n    }\n  }\n  \n  gl_FragColor = mix(front, sum, intensity);\n}\n"}),this.intensity=0}resetFromJSON(e){return this.setIntensity(n(e,"intensity",0)),this}onPreRender(){this.set1f("intensity",this.intensity)}setIntensity(e){return this.intensity=e,this}}const i=Phaser.Game;var s=function(e){return e instanceof i};const r=Phaser.Scene;var o=function(e){return e instanceof r},a=function(e,n,t){var i;(i=e,null==i||"object"!=typeof i?null:s(i)?i:s(i.game)?i.game:o(i)?i.sys.game:o(i.scene)?i.scene.sys.game:void 0).renderer.pipelines.addPostPipeline(n,t)};const l=Phaser.Utils.Array.SpliceOne;class f extends Phaser.Plugins.BasePlugin{setPostPipelineClass(e,n){return this.PostFxPipelineClass=e,this.postFxPipelineName=n,this}start(){this.game.events.once("destroy",this.destroy,this),a(this.game,this.postFxPipelineName,this.PostFxPipelineClass)}add(e,n){return function(e,n,t){void 0===t&&(t={}),e.setPostPipeline(n);var i=e.postPipelines[e.postPipelines.length-1];return i.resetFromJSON(t),t.name&&(i.name=t.name),i}(e,this.PostFxPipelineClass,n)}remove(e,n){return function(e,n,t){if(void 0===t)for(var i=(s=e.postPipelines).length-1;i>=0;i--)(o=s[i])instanceof n&&(o.destroy(),l(s,i));else{i=0;for(var s,r=(s=e.postPipelines).length;i<r;i++){var o;(o=s[i])instanceof n&&o.name===t&&(o.destroy(),l(s,i))}}e.hasPostPipeline=e.postPipelines.length>0}(e,this.PostFxPipelineClass,n),this}get(e,n){return function(e,n,t){if(void 0===t){for(var i=[],s=0,r=(o=e.postPipelines).length;s<r;s++)(a=o[s])instanceof n&&i.push(a);return i}var o;for(s=0,r=(o=e.postPipelines).length;s<r;s++){var a;if((a=o[s])instanceof n&&a.name===t)return a}}(e,this.PostFxPipelineClass,n)}}var u=function(e){return null!==e&&"object"==typeof e};return function(e,n,t,i="."){if(!u(e))return e;if(function(e){return null==e}(n)||""===n||Array.isArray(n)&&0===n.length)return e;if("string"==typeof n&&-1===n.indexOf(i))return e[n]=t,e;var s=function(e,n){return Array.isArray(e)||(e="string"!=typeof e||""===e.trim()?[]:e.split(n).filter(Boolean)),e}(n,i);if(0===s.length)return e;for(var r=e,o=s.length,a=0;a<o-1;a++){var l=s[a],f=r[l];u(f)||(r[l]={}),r=r[l]}r[s[o-1]]=t}(window,"RexPlugins.Pipelines.GlowFilterPostFx",t),class extends f{constructor(e){super(e),this.setPostPipelineClass(t,"rexGlowFilterPostFx")}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).rexglowfilterpipelineplugin=n();
