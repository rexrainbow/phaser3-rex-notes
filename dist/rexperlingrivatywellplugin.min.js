!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexperlingrivatywellplugin=e()}(void 0,function(){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(o.key),o)}}function i(t,e,r){e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1})}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");e=t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(r);return c(this,o?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function p(t){return t*t*t*(t*(6*t-15)+10)}function v(t,e,r){return(1-r)*t+r*e}var t=function(){function o(t,e,r){n(this,o),this.x=t,this.y=e,this.z=r}return i(o,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,r){return this.x*t+this.y*e+this.z*r}}]),o}(),l=[new t(1,1,0),new t(-1,1,0),new t(1,-1,0),new t(-1,-1,0),new t(1,0,1),new t(-1,0,1),new t(1,0,-1),new t(-1,0,-1),new t(0,1,1),new t(0,-1,1),new t(0,1,-1),new t(0,-1,-1)],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],d=.5*(Math.sqrt(3)-1),y=(3-Math.sqrt(3))/6,j=1/6,r=function(){function e(t){n(this,e),void 0===t&&(t=0),this.perm=new Array(512),this.gradP=new Array(512),this.setSeed(t)}return i(e,[{key:"setSeed",value:function(t){var e=this.perm,r=this.gradP;0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var o=0;o<256;o++){var n=1&o?s[o]^255&t:s[o]^t>>8&255;e[o]=e[o+256]=n,r[o]=r[o+256]=l[n%12]}}},{key:"simplex2",value:function(t,e){var r=this.perm,o=this.gradP,n=(t+e)*d,i=Math.floor(t+n),n=Math.floor(e+n),u=(i+n)*y,t=t-i+u,e=e-n+u,u=e<t?(h=1,0):(h=0,1),a=t-h+y,c=e-u+y,f=t-1+2*y,l=e-1+2*y,s=o[(i&=255)+r[n&=255]],h=o[i+h+r[n+u]],u=o[1+i+r[1+n]],o=.5-t*t-e*e,i=o<0?0:(o*=o)*o*s.dot2(t,e),r=.5-a*a-c*c,n=r<0?0:(r*=r)*r*h.dot2(a,c),o=.5-f*f-l*l,s=o<0?0:(o*=o)*o*u.dot2(f,l);return 70*(i+n+s)}},{key:"simplex3",value:function(t,e,r){var o=this.perm,n=this.gradP,i=(t+e+r)*(1/3),u=Math.floor(t+i),a=Math.floor(e+i),i=Math.floor(r+i),c=(u+a+i)*j,t=t-u+c,e=e-a+c,r=r-i+c,c=e<=t?r<=e?(O=M=m=1,g=P=0):M=r<=t?(O=g=P=0,m=1):(O=P=m=0,g=1):e<r?(M=P=m=0,O=g=1):t<r?(M=g=m=0,O=P=1):(O=M=P=1,g=m=0),f=t-m+j,l=e-P+j,s=r-g+j,h=t-M+2*j,d=e-O+2*j,y=r-c+2*j,p=t-1+.5,v=e-1+.5,b=r-1+.5,w=n[(u&=255)+o[(a&=255)+o[i&=255]]],m=n[u+m+o[a+P+o[i+g]]],P=n[u+M+o[a+O+o[i+c]]],g=n[1+u+o[1+a+o[1+i]]],M=.6-t*t-e*e-r*r,O=M<0?0:(M*=M)*M*w.dot3(t,e,r),c=.6-f*f-l*l-s*s,n=c<0?0:(c*=c)*c*m.dot3(f,l,s),u=.6-h*h-d*d-y*y,a=u<0?0:(u*=u)*u*P.dot3(h,d,y),o=.6-p*p-v*v-b*b,i=o<0?0:(o*=o)*o*g.dot3(p,v,b);return 32*(O+n+a+i)}},{key:"perlin2",value:function(t,e){var r=this.perm,o=this.gradP,n=Math.floor(t),i=Math.floor(e),u=(t-=n,e-=i,o[(n&=255)+r[i&=255]].dot2(t,e)),a=o[n+r[1+i]].dot2(t,e-1),c=o[1+n+r[i]].dot2(t-1,e),o=o[1+n+r[1+i]].dot2(t-1,e-1),n=p(t);return v(v(u,c,n),v(a,o,n),p(e))}},{key:"perlin3",value:function(t,e,r){var o=this.perm,n=this.gradP,i=Math.floor(t),u=Math.floor(e),a=Math.floor(r),c=(t-=i,e-=u,r-=a,n[(i&=255)+o[(u&=255)+o[a&=255]]].dot3(t,e,r)),f=n[i+o[u+o[1+a]]].dot3(t,e,r-1),l=n[i+o[1+u+o[a]]].dot3(t,e-1,r),s=n[i+o[1+u+o[1+a]]].dot3(t,e-1,r-1),h=n[1+i+o[u+o[a]]].dot3(t-1,e,r),d=n[1+i+o[u+o[1+a]]].dot3(t-1,e,r-1),y=n[1+i+o[1+u+o[a]]].dot3(t-1,e-1,r),n=n[1+i+o[1+u+o[1+a]]].dot3(t-1,e-1,r-1),i=p(t),u=p(e),o=p(r);return v(v(v(c,h,i),v(f,d,i),o),v(v(l,y,i),v(s,n,i),o),u)}}]),e}(),h=Phaser.Utils.Objects.GetValue,b=function(){function e(t){n(this,e),this.active=!0,this.noise=new r(h(t,"seed",Math.random())),this.periodScale=h(t,"periodScale",2e-4),this.rotateScale=h(t,"rotateScale",.3),this.velocity=new Phaser.Math.Vector2}return i(e,[{key:"update",value:function(t,e){e*=this.periodScale,e=this.noise.perlin2(t.x*e,t.y*e)*Math.PI;this.velocity.set(t.velocityX,t.velocityY).rotate(e*this.rotateScale),t.velocityX=this.velocity.x,t.velocityY=this.velocity.y}}]),e}();return function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var r=f(o);function o(t){return n(this,o),r.call(this,t)}return i(o,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t){return new b(t)}}]),o}(Phaser.Plugins.BasePlugin)});
