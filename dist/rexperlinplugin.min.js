!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexperlinplugin=e()}(void 0,function(){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(n.key),n)}}function i(t,e,r){e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1})}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");e=t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(r);return a(this,n?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function y(t){return t*t*t*(t*(6*t-15)+10)}function v(t,e,r){return(1-r)*t+r*e}var t=function(){function n(t,e,r){o(this,n),this.x=t,this.y=e,this.z=r}return i(n,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,r){return this.x*t+this.y*e+this.z*r}}]),n}(),l=[new t(1,1,0),new t(-1,1,0),new t(1,-1,0),new t(-1,-1,0),new t(1,0,1),new t(-1,0,1),new t(1,0,-1),new t(-1,0,-1),new t(0,1,1),new t(0,-1,1),new t(0,1,-1),new t(0,-1,-1)],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],h=.5*(Math.sqrt(3)-1),p=(3-Math.sqrt(3))/6,M=1/6,d=function(){function e(t){o(this,e),void 0===t&&(t=0),this.perm=new Array(512),this.gradP=new Array(512),this.setSeed(t)}return i(e,[{key:"setSeed",value:function(t){var e=this.perm,r=this.gradP;0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var n=0;n<256;n++){var o=1&n?s[n]^255&t:s[n]^t>>8&255;e[n]=e[n+256]=o,r[n]=r[n+256]=l[o%12]}}},{key:"simplex2",value:function(t,e){var r=this.perm,n=this.gradP,o=(t+e)*h,i=Math.floor(t+o),o=Math.floor(e+o),u=(i+o)*p,t=t-i+u,e=e-o+u,u=e<t?(d=1,0):(d=0,1),f=t-d+p,a=e-u+p,c=t-1+2*p,l=e-1+2*p,s=n[(i&=255)+r[o&=255]],d=n[i+d+r[o+u]],u=n[1+i+r[1+o]],n=.5-t*t-e*e,i=n<0?0:(n*=n)*n*s.dot2(t,e),r=.5-f*f-a*a,o=r<0?0:(r*=r)*r*d.dot2(f,a),n=.5-c*c-l*l,s=n<0?0:(n*=n)*n*u.dot2(c,l);return 70*(i+o+s)}},{key:"simplex3",value:function(t,e,r){var n=this.perm,o=this.gradP,i=(t+e+r)*(1/3),u=Math.floor(t+i),f=Math.floor(e+i),i=Math.floor(r+i),a=(u+f+i)*M,t=t-u+a,e=e-f+a,r=r-i+a,a=e<=t?r<=e?(j=O=m=1,P=g=0):O=r<=t?(j=P=g=0,m=1):(j=g=m=0,P=1):e<r?(O=g=m=0,j=P=1):t<r?(O=P=m=0,j=g=1):(j=O=g=1,P=m=0),c=t-m+M,l=e-g+M,s=r-P+M,d=t-O+2*M,h=e-j+2*M,p=r-a+2*M,y=t-1+.5,v=e-1+.5,b=r-1+.5,w=o[(u&=255)+n[(f&=255)+n[i&=255]]],m=o[u+m+n[f+g+n[i+P]]],g=o[u+O+n[f+j+n[i+a]]],P=o[1+u+n[1+f+n[1+i]]],O=.6-t*t-e*e-r*r,j=O<0?0:(O*=O)*O*w.dot3(t,e,r),a=.6-c*c-l*l-s*s,o=a<0?0:(a*=a)*a*m.dot3(c,l,s),u=.6-d*d-h*h-p*p,f=u<0?0:(u*=u)*u*g.dot3(d,h,p),n=.6-y*y-v*v-b*b,i=n<0?0:(n*=n)*n*P.dot3(y,v,b);return 32*(j+o+f+i)}},{key:"perlin2",value:function(t,e){var r=this.perm,n=this.gradP,o=Math.floor(t),i=Math.floor(e),u=(t-=o,e-=i,n[(o&=255)+r[i&=255]].dot2(t,e)),f=n[o+r[1+i]].dot2(t,e-1),a=n[1+o+r[i]].dot2(t-1,e),n=n[1+o+r[1+i]].dot2(t-1,e-1),o=y(t);return v(v(u,a,o),v(f,n,o),y(e))}},{key:"perlin3",value:function(t,e,r){var n=this.perm,o=this.gradP,i=Math.floor(t),u=Math.floor(e),f=Math.floor(r),a=(t-=i,e-=u,r-=f,o[(i&=255)+n[(u&=255)+n[f&=255]]].dot3(t,e,r)),c=o[i+n[u+n[1+f]]].dot3(t,e,r-1),l=o[i+n[1+u+n[f]]].dot3(t,e-1,r),s=o[i+n[1+u+n[1+f]]].dot3(t,e-1,r-1),d=o[1+i+n[u+n[f]]].dot3(t-1,e,r),h=o[1+i+n[u+n[1+f]]].dot3(t-1,e,r-1),p=o[1+i+n[1+u+n[f]]].dot3(t-1,e-1,r),o=o[1+i+n[1+u+n[1+f]]].dot3(t-1,e-1,r-1),i=y(t),u=y(e),n=y(r);return v(v(v(a,d,i),v(c,h,i),n),v(v(l,p,i),v(s,o,i),n),u)}}]),e}();return function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t);var r=c(n);function n(t){return o(this,n),r.call(this,t)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t){return new d(t)}}]),n}(Phaser.Plugins.BasePlugin)});
