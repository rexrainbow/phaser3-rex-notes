!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexcanvasdataplugin=e():t.rexcanvasdataplugin=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=323)}({323:function(t,e,r){"use strict";r.r(e);var n=Phaser.Display.Color,o={rgbaToColor32:function(t,e,r,n){return n<<24|t<<16|e<<8|r},color32ToColorInt:function(t){return 16777215&t},color32ToAlpha:function(t){return t>>>24},color32ToColorObject:function(t,e){var r=t>>16&255,o=t>>8&255,i=255&t,u=t>>24&255;return void 0===e?e=new n(r,i,o,u):e.setTo(r,i,o,u),e}};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===r&&(r=0),void 0===n&&(n=r),this.width=r,this.height=n,this.buffer=new e(r*n)}var e,r,n;return e=t,(r=[{key:"getOffset",value:function(t,e){return e*this.width+t}},{key:"get",value:function(t,e){var r;return r=2===arguments.length?this.getOffset(t,e):t,this.buffer.get(r)}},{key:"set",value:function(t,e,r){var n;return 3===arguments.length?n=this.getOffset(t,e):(n=t,r=e),this.buffer.set(n,r),this}},{key:"fill",value:function(t,e,r,n,o,i,u){if("number"==typeof t){var a=t;this.buffer.fill(a)}else{void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=t.width-e),void 0===o&&(o=t.height-r),this.resize(n,o);for(var s,f=t.getContext("2d").getImageData(e,r,n,o).data,c=0,l=f.length/4;c<l;c++)s=4*c,a=u?i.call(u,f,s):i(f,s),this.set(c,a)}return this}},{key:"clear",value:function(){return this.fill(0),this}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.buffer.resize(t*e),this)}},{key:"forEach",value:function(t,e,r){var n;void 0===r&&(r=!1);for(var o=0,i=this.height;o<i;o++)for(var u=0,a=this.width;u<a;u++)n=this.get(u,o),(!r||0!==n&&!1!==n)&&(e?t.call(e,n,u,o,this):t(n,u,o,this));return this}},{key:"forEachNonZero",value:function(t,e){return this.forEach(t,e,!0),this}}])&&i(e.prototype,r),n&&i(e,n),t}();Object.assign(u.prototype,o);var a=u,s=function(t,e,r,n,o,i,u,s,f){return void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=t.width-e),void 0===o&&(o=t.height-r),void 0===f&&(f=new a(i,n,o)),f.fill(t,e,r,n,o,u,s),f};function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resize(e)}var e,r,n;return e=t,(r=[{key:"get",value:function(t){var e=t>>3,r=1<<t%8;return(this._bin[e]&r)>0}},{key:"set",value:function(t,e){var r=t>>3,n=1<<t%8;return e?this._bin[r]|=n:(n^=255,this._bin[r]&=n),this}},{key:"fill",value:function(t){t=t?255:0;for(var e=0,r=this._rows;e<r;e++)this._bin[e]=t;return this}},{key:"resize",value:function(t){var e=1+(t>>3);return e!==this._rows&&(this._rows=e,this._buf=new ArrayBuffer(this._rows),this._bin=new Uint8Array(this._buf)),this}}])&&f(e.prototype,r),n&&f(e,n),t}(),l=function(t,e){return t[e+3]>0},h=function(t,e){return s(t.canvas,void 0,void 0,void 0,void 0,c,l,void 0,e)};function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resize(e)}var e,r,n;return e=t,(r=[{key:"get",value:function(t){return this._colors[t]}},{key:"set",value:function(t,e){return this._colors[t]=e,this}},{key:"fill",value:function(t){for(var e=0,r=this._rows;e<r;e++)this._colors[e]=t;return this}},{key:"resize",value:function(t){return t!==this._rows&&(this._rows=t,this._buf=new ArrayBuffer(4*this._rows),this._colors=new Uint32Array(this._buf)),this}}])&&v(e.prototype,r),n&&v(e,n),t}(),p=function(t,e){return t[e+3]<<24|t[e+0]<<16|t[e+1]<<8|t[e+2]},d=r(46),b=Phaser.Display.Canvas.CanvasPool,g=function(t,e){return e.width=t.cutWidth,e.height=t.cutHeight,e.getContext("2d").drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight),e},w={textObjectToBitMap:h,textureTColorMap:function(t,e,r){var n;"string"==typeof t?("string"!=typeof e&&(r=e,e=void 0),n=this.textureManager.getFrame(t,e)):(n=Object(d.a)(t)?t.frame:t,r=e);var o=void 0!==this._tmpCanvas,i=o?this._tmpCanvas:b.create2D(this,void 0,void 0,void 0,!0);return r=s(g(n,i),void 0,void 0,void 0,void 0,y,p,void 0,r),o?(i.width=1,i.height=1):b.remove(i),r}};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t,e,r){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=Phaser.Display.Canvas.CanvasPool,x=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,P(e).call(this,t))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,Phaser.Plugins.BasePlugin),r=e,(n=[{key:"start",value:function(){this.game.events.once("destroy",this.destroy,this),this._tmpCanvas=C.create2D(this)}},{key:"destroy",value:function(){C.remove(this._tmpCanvas),this._tmpCanvas=void 0,j(P(e.prototype),"destroy",this).call(this)}},{key:"textureManager",get:function(){return this.game.textures}}])&&_(r.prototype,n),o&&_(r,o),e}();Object.assign(x.prototype,w);e.default=x},46:function(t,e,r){"use strict";var n=Phaser.GameObjects.GameObject;e.a=function(t){return t instanceof n}}}).default});