!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rextexteditplugin=e():t.rextexteditplugin=e()}(window,function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=387)}({189:function(t,e,i){"use strict";var o=i(3),n=i(63);const s=Phaser.Utils.Objects.GetValue;var r=function(t,e){void 0===e&&(e={});var i=t.scene,o=t.style,r=s(e,"backgroundColor",o.backgroundColor);null===r&&(r="transparent"),e.text=s(e,"text",t.text),e.fontFamily=s(e,"fontFamily",o.fontFamily),e.fontSize=s(e,"fontSize",o.fontSize),e.color=s(e,"color",o.color),e.backgroundColor=r;var l=new n.a(i,t.x,t.y,s(e,"width",t.width),s(e,"height",t.height),e);return l.setOrigin(t.originX,t.originY),i.add.existing(l),l},l=i(74);const d=Phaser.Utils.Objects.GetValue;var a=void 0;e.a=class{constructor(t){this.gameObject=t,this.scene=Object(o.a)(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}boot(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return this.close(),this.gameObject=void 0,this.scene=void 0,a===this&&(a=void 0),this}destroy(){return this.shutdown(),this}open(t,e){void 0!==a&&a.close(),a=this,Object(l.a)(t)&&(e=t,t=void 0),void 0===e&&(e=d(t,"onClose",void 0));var i=d(t,"onTextChanged",void 0);return this.inputText=r(this.gameObject,t).on("textchange",function(t){var e=t.text;i?i(this.gameObject,e):this.gameObject.text=e},this).setFocus(),this.gameObject.setVisible(!1),this.onClose=e,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,function(){this.scene.input.once("pointerdown",this.close,this)},[],this),this}close(){return a=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}get isOpened(){return void 0!==this.inputText}get text(){return this.isOpened?this.inputText.text:this.gameObject.text}}},256:function(t,e,i){"use strict";var o=i(189);e.a=function(t,e,i){return t._edit||(t._edit=new o.a(t)),t._edit.open(e,i),t._edit}},3:function(t,e,i){"use strict";var o=i(5);e.a=function(t){return Object(o.a)(t)?t:t.scene&&Object(o.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(o.a)(t.parent.scene)?t.parent.scene:void 0}},387:function(t,e,i){"use strict";i.r(e);var o=i(189).a,n=i(256);class s extends Phaser.Plugins.BasePlugin{constructor(t){super(t)}start(){this.game.events.once("destroy",this.destroy,this)}add(t){return new o(t)}}var r={edit:n.a};Object.assign(s.prototype,r);e.default=s},5:function(t,e,i){"use strict";const o=Phaser.Scene;e.a=function(t){return t instanceof o}},63:function(t,e,i){"use strict";var o=function(t){t.stopPropagation()},n=function(t){t.addEventListener("touchstart",o,!1),t.addEventListener("touchmove",o,!1),t.addEventListener("touchend",o,!1),t.addEventListener("mousedown",o,!1),t.addEventListener("mouseup",o,!1),t.addEventListener("mousemove",o,!1)};const s=Phaser.GameObjects.DOMElement,r=Phaser.Utils.Objects.IsPlainObject,l=Phaser.Utils.Objects.GetValue;const d={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},a={align:["text-align",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["font-family",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},c={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};e.a=class extends s{constructor(t,e,i,o,s,h){r(e)?(e=l(h=e,"x",0),i=l(h,"y",0),o=l(h,"width",void 0),s=l(h,"height",void 0)):r(o)&&(o=l(h=o,"width",void 0),s=l(h,"height",void 0)),void 0===h&&(h={});var u,p=t.scale.autoRound;void 0!==o&&(p&&(o=Math.floor(o)),h.width=o+"px"),void 0!==s&&(p&&(s=Math.floor(s)),h.height=s+"px");var f,v,b=l(h,"type","text");for(var y in"textarea"===b?(u=document.createElement("textarea")).style.resize="none":(u=document.createElement("input")).type=b,d)f=d[y],void 0!==(v=l(h,y,f[1]))&&(u[f[0]]=v);var g,x,m=l(h,"style",void 0);for(var y in void 0===m&&(m={}),a)g=a[y],void 0!==(x=l(h,y,g[1]))&&(m[g[0]]=x);var O=u.style;for(var y in h)y in d||y in a||y in O&&(m[y]=h[y]);m["box-sizing"]="border-box",super(t,e,i,u,m),this.type="rexInputText";for(let t in c)this.node[c[t]]=function(){this.emit(t,this)}.bind(this);n(this.node)}resize(t,e){var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}selectText(){return this.node.select(),this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return void 0===t&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}setStyle(t,e){return this.node.style[t]=e,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}}},74:function(t,e,i){"use strict";e.a=function(t){return t&&"function"==typeof t}}}).default});